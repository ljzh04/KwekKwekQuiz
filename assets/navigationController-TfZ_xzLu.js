import{L as i,M as h,N as o,O as c,P as p,Q as l}from"./dom-BKcPZjMx.js";import{s as f}from"./uiController-Duq5DQLh.js";import"./state-DFIgnp9Y.js";function g(){if(!i||!h||!o||!c.length||!p.length||!l){console.warn("Navigation elements not found, sidebar/navigation might not work.");return}h.addEventListener("click",()=>{i.classList.toggle("-translate-x-full"),i.classList.toggle("open"),o.classList.toggle("hidden")}),o.addEventListener("click",()=>{i.classList.add("-translate-x-full"),i.classList.remove("open"),o.classList.add("hidden")});function d(t,n=!1){p.forEach(e=>{e.id===t?e.classList.remove("hidden"):e.classList.add("hidden")}),c.forEach(e=>{if(e.dataset.section===t){if(e.classList.add("active-link"),l){let s="";e.childNodes.forEach(a=>{(a.nodeType===Node.TEXT_NODE||a.nodeType===Node.ELEMENT_NODE&&!a.classList.contains("material-symbols-outlined"))&&(s+=a.textContent.trim())}),s=s.trim(),l.textContent=s==="App"?"Kwek Kwek Quiz":s}}else e.classList.remove("active-link")}),window.innerWidth<768&&i.classList.contains("open")&&(i.classList.add("-translate-x-full"),i.classList.remove("open"),o.classList.add("hidden")),t==="app-section"&&n?f():t==="app-section"&&!document.getElementById("quiz-setup").classList.contains("hidden")&&!document.getElementById("quiz-container").classList.contains("hidden")&&document.getElementById("result-container").classList.contains("hidden"),console.log(`Switched to section: ${t}`)}c.forEach(t=>{t.addEventListener("click",n=>{n.preventDefault();const e=t.dataset.section,s=t.getAttribute("href"),a=e==="app-section";window.location.hash!==s&&(window.location.hash=s.substring(1)),d(e,a)})});function r(){const t=window.location.hash.substring(1);let n="app-section",e=t==="app"||!t;if(t){const s=document.querySelector(`.sidebar-link[href="#${t}"]`);s&&s.dataset.section?n=s.dataset.section:(window.location.hash="app",n="app-section",e=!0)}d(n,e)}window.addEventListener("hashchange",r),r(),console.log("Navigation controller initialized.")}export{g as initNavigation};
