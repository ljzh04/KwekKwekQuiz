@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  font-family: 'Roboto', sans-serif;
  font-size: 16px;
  /* Material Design Typography Scale */
  --md-sys-typescale-display-large-font: 400 57px/64px 'Roboto', sans-serif;
  --md-sys-typescale-display-medium-font: 400 45px/52px 'Roboto', sans-serif;
  --md-sys-typescale-display-small-font: 400 36px/44px 'Roboto', sans-serif;
  --md-sys-typescale-headline-large-font: 400 32px/40px 'Roboto', sans-serif;
  --md-sys-typescale-headline-medium-font: 400 28px/36px 'Roboto', sans-serif;
  --md-sys-typescale-headline-small-font: 400 24px/32px 'Roboto', sans-serif;
  --md-sys-typescale-title-large-font: 400 22px/28px 'Roboto', sans-serif;
  --md-sys-typescale-title-medium-font: 500 16px/24px 'Roboto', sans-serif;
  --md-sys-typescale-title-small-font: 500 14px/20px 'Roboto', sans-serif;
  --md-sys-typescale-body-large-font: 400 16px/24px 'Roboto', sans-serif;
  --md-sys-typescale-body-medium-font: 400 14px/20px 'Roboto', sans-serif;
  --md-sys-typescale-body-small-font: 400 12px/16px 'Roboto', sans-serif;
  --md-sys-typescale-label-large-font: 500 14px/20px 'Roboto', sans-serif;
  --md-sys-typescale-label-medium-font: 500 12px/16px 'Roboto', sans-serif;
  --md-sys-typescale-label-small-font: 500 11px/16px 'Roboto', sans-serif;
  
  /* Material Design Motion Tokens */
  --md-sys-motion-duration-short1: 50ms;
  --md-sys-motion-duration-short2: 100ms;
  --md-sys-motion-duration-short3: 150ms;
  --md-sys-motion-duration-short4: 200ms;
  --md-sys-motion-duration-medium1: 250ms;
  --md-sys-motion-duration-medium2: 300ms;
  --md-sys-motion-duration-medium3: 350ms;
  --md-sys-motion-duration-medium4: 400ms;
  --md-sys-motion-duration-long1: 450ms;
  --md-sys-motion-duration-long2: 500ms;
  --md-sys-motion-duration-long3: 550ms;
  --md-sys-motion-duration-long4: 600ms;
  
  --md-sys-motion-easing-standard: cubic-bezier(0.2, 0.0, 0, 1.0);
  --md-sys-motion-easing-emphasized: cubic-bezier(0.2, 0.0, 0, 1.0);
  --md-sys-motion-easing-decelerated: cubic-bezier(0.0, 0.0, 0.2, 1.0);
  --md-sys-motion-easing-accelerated: cubic-bezier(0.4, 0.0, 1, 1.0);
}

/* Disable blinking caret globally except in input and textarea */
*:not(input):not(textarea) {
  caret-color: transparent !important;
}

textarea, input {
  caret-color: var(--md-sys-color-primary);/* Material Design Typography Scale */
}

/* Material Design Button Components */
.md-filled-button {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  min-height: 40px;
  padding: 10px 24px;
  border: none;
  border-radius: 20px;
  font: var(--md-sys-typescale-label-large-font);
  text-decoration: none;
  cursor: pointer;
  user-select: none;
  transition: all var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-standard);
  will-change: background-color, box-shadow, transform;
  overflow: hidden;
  background-color: var(--md-sys-color-primary);
  color: var(--md-sys-color-on-primary);
}

.md-filled-button:hover {
  transform: translateY(-1px);
  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);
}

.md-filled-button:active {
  transform: translateY(0);
  box-shadow: 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);
}

.md-filled-button:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(103, 80, 164, 0.3);
}

.md-filled-button:disabled {
  background-color: rgba(28, 27, 31, 0.12) !important;
  color: rgba(28, 27, 31, 0.38) !important;
  cursor: not-allowed;
  transform: none !important;
  box-shadow: none !important;
}

.md-filled-tonal-button {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  min-height: 40px;
  padding: 10px 24px;
  border: none;
  border-radius: 20px;
  font: var(--md-sys-typescale-label-large-font);
  text-decoration: none;
  cursor: pointer;
  user-select: none;
  transition: all var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-standard);
  will-change: background-color, box-shadow, transform;
  overflow: hidden;
  background-color: var(--md-sys-color-secondary-container);
  color: var(--md-sys-color-on-secondary-container);
}

.md-filled-tonal-button:hover {
  transform: translateY(-1px);
  box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.3), 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
}

.md-filled-tonal-button:active {
  transform: translateY(0);
}

.md-filled-tonal-button:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(98, 91, 113, 0.3);
}

.md-outlined-button {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  min-height: 40px;
  padding: 10px 24px;
  background-color: transparent;
  border: 1px solid var(--md-sys-color-outline);
  border-radius: 20px;
  font: var(--md-sys-typescale-label-large-font);
  text-decoration: none;
  cursor: pointer;
  user-select: none;
  transition: all var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-standard);
  will-change: background-color, border-color, transform;
  overflow: hidden;
  color: var(--md-sys-color-primary);
}

.md-outlined-button:hover {
  transform: translateY(-1px);
  box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.3), 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
  background-color: rgba(103, 80, 164, 0.08);
}

.md-outlined-button:active {
  transform: translateY(0);
}

.md-outlined-button:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(121, 116, 126, 0.3);
}

.md-outlined-button:disabled {
  border-color: rgba(28, 27, 31, 0.12) !important;
  color: rgba(28, 27, 31, 0.38) !important;
  cursor: not-allowed;
  transform: none !important;
  box-shadow: none !important;
}

.md-icon-button {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 48px;
  border: none;
  background-color: transparent;
  border-radius: 24px;
  cursor: pointer;
  user-select: none;
  transition: all var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-standard);
  will-change: background-color, transform;
  overflow: hidden;
  color: var(--md-sys-color-on-surface-variant);
}

.md-icon-button:hover {
  transform: scale(1.05);
  background-color: rgba(121, 116, 126, 0.08);
}

.md-icon-button:active {
  transform: scale(0.95);
}

.md-icon-button:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(121, 116, 126, 0.3);
}

/* Material Design Text Field Components */
.md-text-field {
  position: relative;
  margin-bottom: 16px;
}

.md-text-field input,
.md-text-field textarea,
.md-text-field select {
  font: var(--md-sys-typescale-body-large-font);
  transition: border-color var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-standard);
  border: 1px solid var(--md-sys-color-outline);
  background-color: var(--md-sys-color-surface);
  color: var(--md-sys-color-on-surface);
  padding: 12px 16px;
  border-radius: 4px;
  width: 100%;
}

.md-text-field input:focus,
.md-text-field textarea:focus,
.md-text-field select:focus {
  border-color: var(--md-sys-color-primary);
  box-shadow: 0 0 0 1px var(--md-sys-color-primary);
}

.md-text-field label {
  font: var(--md-sys-typescale-body-medium-font);
  color: var(--md-sys-color-on-surface-variant);
  display: block;
  margin-bottom: 8px;
}

/* Material Design Progress Indicator */
.md-linear-progress {
  position: relative;
  width: 100%;
  height: 4px;
  border-radius: 2px;
  overflow: hidden;
  background-color: var(--md-sys-color-surface-variant);
}

.md-linear-progress-bar {
  height: 100%;
  border-radius: 2px;
  background-color: var(--md-sys-color-primary);
  transition: width var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-standard);
}

/* Material Design Card Component */
.md-card {
  background-color: var(--md-sys-color-surface-container);
  border-radius: 12px;
  box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.3), 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
  transition: box-shadow var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-standard);
  padding: 16px;
}

.md-card:hover {
  box-shadow: 0px 2px 6px 2px rgba(0, 0, 0, 0.15), 0px 1px 2px 0px rgba(0, 0, 0, 0.3);
}

/* Disabled button states specifically for dark mode for better contrast */
html.dark .md-filled-button:disabled,
html.dark .md-filled-tonal-button:disabled {
  background-color: rgba(230, 225, 229, 0.12) !important; /* On-surface @ 12% for dark */
  color: rgba(230, 225, 229, 0.38) !important;       /* On-surface @ 38% for dark */
  box-shadow: none !important;
  transform: none !important;
  cursor: not-allowed;
}
html.dark .md-outlined-button:disabled {
  border-color: rgba(230, 225, 229, 0.12) !important; /* On-surface @ 12% for dark */
  color: rgba(230, 225, 229, 0.38) !important;       /* On-surface @ 38% for dark */
  background-color: transparent; /* Ensure no bg color from hover/active states */
  box-shadow: none !important;
  transform: none !important;
  cursor: not-allowed;
}


/* Material Design Feedback Animations */
@keyframes md-pulse-primary {
  0% {
    box-shadow: 0 0 0 0 rgba(103, 80, 164, 0.7);
  }
  50% {
    box-shadow: 0 0 0 12px rgba(103, 80, 164, 0.3);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(103, 80, 164, 0);
  }
}

@keyframes md-pulse-error {
  0% {
    box-shadow: 0 0 0 0 rgba(186, 26, 26, 0.7);
  }
  50% {
    box-shadow: 0 0 0 12px rgba(186, 26, 26, 0.3);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(186, 26, 26, 0);
  }
}

.pulse-green,
.md-pulse-success {
  animation: md-pulse-primary var(--md-sys-motion-duration-long2) var(--md-sys-motion-easing-standard) forwards;
}

.pulse-red,
.md-pulse-error {
  animation: md-pulse-error var(--md-sys-motion-duration-long2) var(--md-sys-motion-easing-standard) forwards;
}

/* Material Design Ripple Effect */
.md-ripple {
  position: relative;
  overflow: hidden;
}

.md-ripple::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transform: translate(-50%, -50%);
  transition: width var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-emphasized),
              height var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-emphasized);
}

.md-ripple:active::before {
  width: 300px;
  height: 300px;
}

/* Material Design State Layers */
.md-state-layer {
  position: relative;
  overflow: hidden;
}

.md-state-layer::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: currentColor;
  opacity: 0;
  transition: opacity var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-standard);
  pointer-events: none;
}

.md-state-layer:hover::before {
  opacity: 0.08;
}

.md-state-layer:focus-visible::before {
  opacity: 0.12;
}

.md-state-layer:active::before {
  opacity: 0.16;
}

/* Material Design Elevation */
.md-elevation-1 {
  box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.3), 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
}

.md-elevation-2 {
  box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.3), 0px 2px 6px 2px rgba(0, 0, 0, 0.15);
}

.md-elevation-3 {
  box-shadow: 0px 4px 8px 3px rgba(0, 0, 0, 0.15), 0px 1px 3px 0px rgba(0, 0, 0, 0.3);
}

.md-elevation-4 {
  box-shadow: 0px 6px 10px 4px rgba(0, 0, 0, 0.15), 0px 2px 3px 0px rgba(0, 0, 0, 0.3);
}

.md-elevation-5 {
  box-shadow: 0px 8px 12px 6px rgba(0, 0, 0, 0.15), 0px 4px 4px 0px rgba(0, 0, 0, 0.3);
}

/* Animation Control Classes */
.animations-disabled * {
  animation: none !important;
  transition: none !important;
  transform: none !important;
}

.animations-disabled button:hover {
  transform: none !important;
  transition: none !important;
  box-shadow: none !important;
}

.animations-disabled button:active {
  transform: none !important;
  box-shadow: none !important;
}

.animations-disabled .pulse-green,
.animations-disabled .pulse-red,
.animations-disabled .md-pulse-success,
.animations-disabled .md-pulse-error {
  animation: none !important;
  box-shadow: none !important;
}

.animations-disabled .md-ripple::before {
  transition: none !important;
}

/* Light Mode (Default) */
html:not(.dark) {
  /* Material Design 3 Color Tokens */
  --md-sys-color-primary: #6750A4;
  --md-sys-color-on-primary: #FFFFFF;
  --md-sys-color-primary-container: #E8DEF8;
  --md-sys-color-on-primary-container: #21005D;
  
  --md-sys-color-secondary: #625B71;
  --md-sys-color-on-secondary: #FFFFFF;
  --md-sys-color-secondary-container: #eae8ee;
  --md-sys-color-on-secondary-container: #1D192B;
  
  --md-sys-color-tertiary: #7D5260;
  --md-sys-color-on-tertiary: #FFFFFF;
  --md-sys-color-tertiary-container: #FFD8E4;
  --md-sys-color-on-tertiary-container: #31111D;
  
  --md-sys-color-surface: #FFFBFE;
  --md-sys-color-surface-dim: #DDD8DD;
  --md-sys-color-surface-bright: #FFFBFE;
  --md-sys-color-surface-container-lowest: #FFFFFF;
  --md-sys-color-surface-container-low: #F7F2FA;
  --md-sys-color-surface-container: #F3EDF7;
  --md-sys-color-surface-container-high: #ECE6F0;
  --md-sys-color-surface-container-highest: #E6E0E9;
  --md-sys-color-surface-variant: #E7E0EC;
  --md-sys-color-on-surface: #1C1B1F;
  --md-sys-color-on-surface-variant: #49454F;
  
  --md-sys-color-outline: #79747E;
  --md-sys-color-outline-variant: #CAC4D0;
  
  --md-sys-color-error: #BA1A1A;
  --md-sys-color-on-error: #FFFFFF;
  --md-sys-color-error-container: #FFDAD6;
  --md-sys-color-on-error-container: #410002;
}

/* Dark Mode */
@media (prefers-color-scheme: dark), html.dark {
  :root {
    --md-sys-color-primary: #D0BCFF;
    --md-sys-color-on-primary: #381E72;
    --md-sys-color-primary-container: #4F378B;
    --md-sys-color-on-primary-container: #E8DEF8;
    
    --md-sys-color-secondary: #CCC2DC;
    --md-sys-color-on-secondary: #332D41;
    --md-sys-color-secondary-container: #4A4458;
    --md-sys-color-on-secondary-container: #E8DEF8;
    
    --md-sys-color-tertiary: #EFB8C8;
    --md-sys-color-on-tertiary: #492532;
    --md-sys-color-tertiary-container: #633B48;
    --md-sys-color-on-tertiary-container: #FFD8E4;
    
    --md-sys-color-surface: #1f2937;
    --md-sys-color-surface-dim: #10100C;
    --md-sys-color-surface-bright: #3B3833;
    --md-sys-color-surface-container-lowest: #0B0B08;
    --md-sys-color-surface-container-low: #191C14;
    --md-sys-color-surface-container: #1D201B;
    --md-sys-color-surface-container-high: #282B26;
    --md-sys-color-surface-container-highest: #333530;
    --md-sys-color-surface-variant: #49454F;
    --md-sys-color-on-surface: #E6E1E5;
    --md-sys-color-on-surface-variant: #CAC4D0;
    
    --md-sys-color-outline: #938F99;
    --md-sys-color-outline-variant: #49454F;
    
    --md-sys-color-error: #FFB4AB;
    --md-sys-color-on-error: #690005;
    --md-sys-color-error-container: #93000A;
    --md-sys-color-on-error-container: #FFDAD6;
  }
}


/* Additional styles for sidebar and content switching (Keep as is or move to main.css) */
body {
  display: flex;
  min-height: 100vh; /* Ensure body takes full viewport height */
}
#sidebar {
  width: 6rem;
  background-color: var(--md-sys-color-surface);
  transition: transform 0.3s ease-in-out;
  color: var(--md-sys-color-on-surface-variant);
}
#sidebar.open {
  transform: translateX(0);
}
.label{
  font: var(--md-sys-typescale-label-medium-font );
}
.sidebar-link .material-symbols-outlined {
  border-radius: 15px;
  padding-top: 0.2rem; 
  padding-bottom: 0.2rem;
  padding-left: 1rem;     
  padding-right: 1rem;
}
.sidebar-link{
  display: flex;
  flex-direction: column; 
  width: 100%;           
  padding-top: 0.625rem; 
  padding-bottom: 0.625rem;
  padding-left: 1rem;     
  padding-right: 1rem;
  border-radius: 0.5rem;  
}
.sidebar-link .material-symbols-outlined:hover{
  background-color: var(--md-sys-color-secondary-container);
}
html.dark .sidebar-link .material-symbols-outlined:hover{
  background-color: var(--md-sys-color-secondary-container);
}
.sidebar-link.active-link .material-symbols-outlined,
.sidebar-link.active-link .material-symbols-outlined:hover
html.dark .sidebar-link .material-symbols-outlined.active-link:hover {
  background-color: var(--md-sys-color-primary-container);
  color: var(--md-sys-color-on-primary-container);
  font-weight: 500; 
}
.sidebar-link.active-link .material-symbols-outlined {
  font-variation-settings: 'FILL' 1; 
}
.content-section {
  justify-self: center;
}
.content-section.hidden {
  display: none;
}
@media (min-width: 768px) {
  #main-content-wrapper {
    margin-left: 6rem;
  }
  #app-section,
  #docs-section,
  #settings-section,
  #about-section{
    justify-self: center;
  }
}

html.dark .prose {
    color: var(--md-sys-color-on-surface); /* Use M3 variable for main text */
}
html.dark .prose h1,
html.dark .prose h2,
html.dark .prose h3,
html.dark .prose h4,
html.dark .prose h5,
html.dark .prose h6,
html.dark .prose strong {
    color: var(--md-sys-color-on-surface); /* Headings and strong text */
}
html.dark .prose a {
    color: var(--md-sys-color-primary); /* M3 primary for links */
}
html.dark .prose code { /* For inline code */
    color: var(--md-sys-color-on-surface-variant);
    background-color: var(--md-sys-color-surface-container-high);
    padding: 0.1em 0.3em;
    border-radius: 4px;
}
html.dark .prose pre code { /* For code blocks, already handled by your existing pre/code styles */
    color: inherit; /* Will inherit from pre */
}
html.dark .prose ul > li::before { /* List bullets */
    background-color: var(--md-sys-color-on-surface-variant);
}

/* Adjust font size if needed globally for prose, or target specific elements */
.prose p, .prose li {
    font: var(--md-sys-typescale-body-large-font) !important; color: var(--md-sys-color-on-surface);
}
.prose h1, html.dark .prose h1 { font: var(--md-sys-typescale-display-large-font) !important; color: var(--md-sys-color-on-surface); }
.prose h2, html.dark .prose h2 { font: var(--md-sys-typescale-display-medium-font) !important; color: var(--md-sys-color-on-surface); }
.prose h3, html.dark .prose h3 { font: var(--md-sys-typescale-display-small-font) !important; color: var(--md-sys-color-on-surface); }
.prose h4, html.dark .prose h4 { font: var(--md-sys-typescale-headline-large-font) !important; color: var(--md-sys-color-on-surface); }
.prose h5, html.dark .prose h5 { font: var(--md-sys-typescale-headline-medium-font) !important; color: var(--md-sys-color-on-surface); }
.prose h6, html.dark .prose h6 { font: var(--md-sys-typescale-headline-small-font) !important; color: var(--md-sys-color-on-surface); }

/* Marked + Highlight.js Code Blocks */
pre {
  background-color: var(--md-sys-color-surface-container-high) !important;
  color: var(--md-sys-color-on-surface) !important;
  padding: 16px !important;
  border-radius: 12px !important;
  overflow-x: auto !important;
  margin: 16px 0 !important;
  font-size: 14px !important;
  position: relative !important;
  border: 1px solid var(--md-sys-color-outline-variant) !important;
}

pre code {
  display: block !important;
  border-left: 4px solid var(--md-sys-color-primary) !important;
  padding-left: 16px !important;
  font-family: 'Roboto Mono', 'Courier New', monospace !important;
}

.code-container {
  position: relative !important;
  margin-bottom: 16px !important;
}

.copy-btn {
  display: flex;
  align-items: center;
  gap: 4px;
  position: absolute !important;
  top: 8px !important;
  right: 8px !important;
  background: var(--md-sys-color-surface-container) !important;
  color: var(--md-sys-color-on-surface) !important;
  border: 1px solid var(--md-sys-color-outline) !important;
  padding: 6px 12px !important;
  border-radius: 8px !important;
  cursor: pointer !important;
  z-index: 1 !important;
  font: var(--md-sys-typescale-label-small-font) !important;
  transition: all var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-standard) !important;
}

.copy-btn:hover {
  background: var(--md-sys-color-surface-container-high) !important;
  transform: translateY(-1px);
}

.copy-btn svg {
  width: 16px;
  height: 16px;
}

/* Material Design Focus Indicators */
:focus-visible {
  outline: 2px solid var(--md-sys-color-primary);
  outline-offset: 2px;
}

/* Responsive Design Adjustments */
@media (max-width: 640px) {
  .md-filled-button,
  .md-filled-tonal-button,
  .md-outlined-button {
    min-height: 48px;
    padding: 14px 20px;
  }

  .md-icon-button {
    width: 48px;
    height: 48px;
  }

}
